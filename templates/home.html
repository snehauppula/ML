<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Academic Insight | Performance Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
</head>

<body>
    <div class="dashboard-container">
        <header>
            <div class="subtitle">Predictive Analytics</div>
            <h1>Academic Insight</h1>
            <p style="color: var(--text-secondary);">Student Performance Indicator</p>
        </header>

        <form action="{{ url_for('predict_datapoint')}}" method="post" class="prediction-form">
            <div class="form-group">
                <label for="gender">Gender</label>
                <select id="gender" name="gender" required>
                    <option value="" {% if not data %}selected{% endif %} disabled>Select Gender</option>
                    <option value="male" {% if data.gender=='male' %}selected{% endif %}>Male</option>
                    <option value="female" {% if data.gender=='female' %}selected{% endif %}>Female</option>
                </select>
            </div>

            <div class="form-group">
                <label for="ethnicity">Race or Ethnicity</label>
                <select id="ethnicity" name="ethnicity" required>
                    <option value="" {% if not data %}selected{% endif %} disabled>Select Ethnicity</option>
                    <option value="group A" {% if data.ethnicity=='group A' %}selected{% endif %}>Group A</option>
                    <option value="group B" {% if data.ethnicity=='group B' %}selected{% endif %}>Group B</option>
                    <option value="group C" {% if data.ethnicity=='group C' %}selected{% endif %}>Group C</option>
                    <option value="group D" {% if data.ethnicity=='group D' %}selected{% endif %}>Group D</option>
                    <option value="group E" {% if data.ethnicity=='group E' %}selected{% endif %}>Group E</option>
                </select>
            </div>

            <div class="form-group full-width">
                <label for="parental_level_of_education">Parental Education</label>
                <select id="parental_level_of_education" name="parental_level_of_education" required>
                    <option value="" {% if not data %}selected{% endif %} disabled>Select Level</option>
                    <option value="associate's degree" {% if data.parental_level_of_education=="associate's degree"
                        %}selected{% endif %}>Associate's Degree</option>
                    <option value="bachelor's degree" {% if data.parental_level_of_education=="bachelor's degree"
                        %}selected{% endif %}>Bachelor's Degree</option>
                    <option value="high school" {% if data.parental_level_of_education=='high school' %}selected{% endif
                        %}>High School</option>
                    <option value="master's degree" {% if data.parental_level_of_education=="master's degree"
                        %}selected{% endif %}>Master's Degree</option>
                    <option value="some college" {% if data.parental_level_of_education=='some college' %}selected{%
                        endif %}>Some College</option>
                    <option value="some high school" {% if data.parental_level_of_education=='some high school'
                        %}selected{% endif %}>Some High School</option>
                </select>
            </div>

            <div class="form-group">
                <label for="lunch">Lunch Type</label>
                <select id="lunch" name="lunch" required>
                    <option value="" {% if not data %}selected{% endif %} disabled>Select Type</option>
                    <option value="free/reduced" {% if data.lunch=='free/reduced' %}selected{% endif %}>Free / Reduced
                    </option>
                    <option value="standard" {% if data.lunch=='standard' %}selected{% endif %}>Standard</option>
                </select>
            </div>

            <div class="form-group">
                <label for="test_preparation_course">Test Preparation</label>
                <select id="test_preparation_course" name="test_preparation_course" required>
                    <option value="" {% if not data %}selected{% endif %} disabled>Select Status</option>
                    <option value="none" {% if data.test_preparation_course=='none' %}selected{% endif %}>None</option>
                    <option value="completed" {% if data.test_preparation_course=='completed' %}selected{% endif %}>
                        Completed</option>
                </select>
            </div>

            <div class="form-group">
                <label for="reading_score">Reading Score</label>
                <input type="number" id="reading_score" name="reading_score" placeholder="0 - 100" min="0" max="100"
                    required value="{{ data.reading_score if data else '' }}">
            </div>

            <div class="form-group">
                <label for="writing_score">Writing Score</label>
                <input type="number" id="writing_score" name="writing_score" placeholder="0 - 100" min="0" max="100"
                    required value="{{ data.writing_score if data else '' }}">
            </div>

            <div class="submit-container">
                <button type="submit" class="btn-submit">Analyze Performance</button>
            </div>

            {% if results %}
            <div class="result-card">
                <div class="result-label">Predicted Math Score</div>
                <div class="result-value">{{results|round(2)}}</div>
            </div>
            {% endif %}
        </form>
    </div>
</body>

</html>